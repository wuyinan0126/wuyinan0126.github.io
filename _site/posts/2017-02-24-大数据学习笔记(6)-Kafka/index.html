<p>**</p>

<h2 id="section">消息队列</h2>
<hr />

<p>消息队列是在消息传输过程中保存消息的容器或中间件，其主要目的是提供消息路由并保障消息的可靠传递。</p>

<p>常见的消息中间件包括ActiveMQ、ZeroMQ、RabbitMQ和Kafka等。一般消息中间件支持两种模式的队列：</p>

<ol>
  <li>
    <p>消息队列模式</p>

    <p>即<strong>消息生产者将消息存入队列，消息消费者从队列消费消息</strong></p>
  </li>
  <li>
    <p>Pub-Sub模式</p>

    <p>消息生产者将消息<strong>发布到指定主题的队列中</strong>，而消费者<strong>订阅指定主题的队列消息</strong>，当订阅的主题有新消息时，消费者可以通过拉取(Pull)或中间件的推送(Push)消费消息</p>
  </li>
</ol>

<h2 id="kafka">Kafka</h2>
<hr />

<p>Kafka是LinkedIn开源的采用Pub-Sub模式的分布式消息系统，最初被设计作为Log收集工具，因其具有极高吞吐量、低延迟、可扩展、高可用以及能够对消息队列进行持久化保存（不是将全部消息保存在内存中传递），因此应用场景较多，比如作为通用的消息系统、消息实时收集等。</p>

<h2 id="kafka01020">安装Kafka（版本0.10.2.0）</h2>
<hr />

<h4 id="section-1">准备工作</h4>
<ol>
  <li>
    <p>下载Kafka二进制包，解压至/opt/:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ tar -zxvf ./kafka_2.11-0.10.2.0.tgz -C /opt/
 $ mv /opt/kafka_2.11-0.10.2.0 /opt/kafka-0.10.2.0
</code></pre>
    </div>
  </li>
  <li>
    <p>创建kafka日志目录:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ mkdir /opt/kafka-0.10.2.0/var/log
</code></pre>
    </div>
  </li>
</ol>

<h4 id="kafka-1">配置Kafka</h4>
<ol>
  <li>
    <p>conf/server.properties</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> log.dirs=/opt/kafka-0.10.2.0/var/log
</code></pre>
    </div>
  </li>
</ol>
